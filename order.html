<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order</title>
    <link rel="stylesheet" href="order.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">    
</head>
<body>
    <!-- LOGO DI HEADER -->
    <header class="header">
        <div class="logo">
            <img id="animated-logo" src="https://cdn.discordapp.com/attachments/1148957853219033161/1148959864270364702/Group_16.png"  
            alt="Logo">
        </div>

        <div class="menu-toggle">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

    <!-- NAVIGATION BAR -->
    <nav class="navbar">
        <a href="home.html">Home</a>
        <a href="product.html">Products</a>
        <a href="order.html">Order</a>
    </nav>

        <!-- LOGIN BUTTON -->
        <div class="login-button">
            <a href="#">
                <button>Login</button>
            </a>
        </div>
    </header>

    <!-- CONTENT -->
    <section class="content">    
        <div class="text">
            <h1>Form Pemesanan</h1>
        </div>       
    </section>

    <!-- FORM -->
    <form class="order-form" onsubmit="return confirmSubmit();">
        <div class="row">
            <div class="col-70">
                <div class="container-biodata">
                    <div class="row">
                        <div class="col-70"><br>
                            <label class="required" for="nama">Nama Lengkap</label> 
                            <input type="text" name="nama" id="form-nama" placeholder="Alma Aqila Hansa"
                            required oninvalid="this.setCustomValidity('Data yang diisikan belum lengkap, silahkan lengkapi terlebih dahulu')" oninput="setCustomValidity('')">

                            <label class="required" for="alamat">Alamat</label> 
                            <input type="text" name="alamat" id="form-alamat" placeholder="Jalan Bahana 2"
                            required oninvalid="this.setCustomValidity('Data yang diisikan belum lengkap, silahkan lengkapi terlebih dahulu')" oninput="setCustomValidity('')">

                            <label class="required" for="notelp">Nomor Telepon</label> 
                            <input type="text" name="notelp" id="form-notelp" placeholder="0812112233"
                            required oninvalid="this.setCustomValidity('Data yang diisikan belum lengkap, silahkan lengkapi terlebih dahulu')" oninput="setCustomValidity('')">

                            <label class="required" for="email">Email</label> 
                            <input type="text" name="email" id="form-email" placeholder="alma@example.com"
                            required oninvalid="this.setCustomValidity('Data yang diisikan belum lengkap, silahkan lengkapi terlebih dahulu')" oninput="setCustomValidity('')">
                
                            <div class="row">
                                <div class="col-50">
                                    <label class="required" for="provinsi">Provinsi</label> 
                                    <input type="text" name="provinsi" id="form-prov" placeholder="Jawa Barat"
                                    required oninvalid="this.setCustomValidity('Data yang diisikan belum lengkap, silahkan lengkapi terlebih dahulu')" oninput="setCustomValidity('')">       
                                </div>
                                <div class="col-50">
                                    <label class="required" for="kota">Kota/Kabupaten</label> 
                                    <input type="text" name="kota" id="form-kota" placeholder="Depok"
                                    required oninvalid="this.setCustomValidity('Data yang diisikan belum lengkap, silahkan lengkapi terlebih dahulu')" oninput="setCustomValidity('')">       
                                </div>
                            <div class="col-50">
                                <label class="required" for="kecamatan">Kecamatan</label> 
                                <input type="text" name="kecamatan" id="form-kecamatan" placeholder="Beji"
                                required oninvalid="this.setCustomValidity('Data yang diisikan belum lengkap, silahkan lengkapi terlebih dahulu')" oninput="setCustomValidity('')">        
                            </div>
                            <div class="col-50">
                                <label class="required" for="kpos">Kode Pos</label> 
                                <input type="text" name="kpos" id="form-kpos" placeholder="10001"
                                required oninvalid="this.setCustomValidity('Data yang diisikan belum lengkap, silahkan lengkapi terlebih dahulu')" oninput="setCustomValidity('')">        
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-30">
            <div class="container">
                <h4 class="required">Produk</h4> 
                <input type="text" name="produk" id="produk" readonly>        
                <div class="row">
                    <div class="col-30">
                        <label class="required" for="jumlah">Jumlah</label> 
                        <input type="text" name="jumlah" id="form-jumlah" placeholder="100"
                        required oninvalid="this.setCustomValidity('Data yang diisikan belum lengkap, silahkan lengkapi terlebih dahulu')" oninput="setCustomValidity('')">        
                    </div>
                    <div class="col-30">
                          <label class="required" for="satuan">Satuan</label>
                        <select id="satuan" name="satuan" form="satuanform">
                            <option value="kg">kg</option>
                            <option value="gr">gr</option>
                            <option value="pcs">pcs</option>
                        </select>
                    </div>
                </div>
            </div> <br><br>
            <div class="container">
                <h3>INFO</h3>
                <hr>
                <p>Detail pembayaran berupa total yang dibayarkan dan rekening tujuan akan dikirim oleh Admin Pasar Segar melalui Whatsapp.
                </p>    
            </div>
        
        </div>
        <button class="btn" type="submit">Buat Pesanan</button>
    </form>
    
    <!-- FOOTER -->
    <footer>
        <div class="footer-atas">
            <div>
                <h3>Menjadi Bagian Newsletter Kami</h3>
                <p>Daftar dan jadilah yang pertama 
                    <br>mengetahui tentang produk baru, 
                    <br> promosi, dan banyak lagi.
                </p>
            </div>
            <form class="newsletter-form">
                <input type="email" class="newsletter-input" placeholder="Masukkan email Anda" required>
                <button type="submit" class="newsletter-button">Kirim</button>
            </form>
        </div>
        <div class="footer-bawah">
            <p>2023 all Right Reserved Term of use Pasar Segar</p>
        </div>
    </footer>
    <script>
        //mendefinisikan function untuk mengambil value dari parameter di URL
        function getQueryParameter(param) { 
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }
        
        //untuk mengambil value dari parameter produk di URL dan disimpan di const
        const produkValue = getQueryParameter('produk');

        //define const input dari ID produk
        const produkInput = document.getElementById('produk');

        if (window.location.pathname.endsWith('order.html')) {
            // Jika value query 'produk' ada, set menjadi value input 
            if (produkValue) {
                produkInput.value = produkValue;
            } 
            // Jika value 'produk' tidak ada, menjadi dapat input
            else {
                produkInput.removeAttribute('readonly');
            }
        }
        
        function confirmSubmit() {
            // Membuat const untuk menampilkan pesan konfirmasi
            const confirmation = confirm("Apakah Anda yakin untuk menyimpan formulir ini?");
            
            //Jika klik 'OK'
            if (confirmation) {
                // Select semua input element di order-form dan reset
                const submitform = document.querySelector(".order-form");                
                submitform.reset();

                // Pesan telah berhasil mengirim form
                alert("Terima kasih telah membeli dari Pasar Segar");

                return true; // melakukan submit form

            } else {
                //Jika klik 'cancel', return false untuk tidak submit form
                return false;
            }
        }

        const menuToggle = document.querySelector('.menu-toggle');
        menuToggle.addEventListener('click', () => {
            menuToggle.classList.toggle('active');
        });
    </script>
</body>
</html>